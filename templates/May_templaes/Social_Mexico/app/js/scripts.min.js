"use strict";$(document).ready(function(){function e(e){var t,s,n,i=[];for(t=document.getElementsByClassName("select-items"),s=document.getElementsByClassName("select-selected"),n=0;n<s.length;n++)e==s[n]?i.push(n):s[n].classList.remove("select-arrow-active");for(n=0;n<t.length;n++)i.indexOf(n)&&t[n].classList.add("select-hide")}function t(e){return/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,6})+$/.test(e)}function s(e){return/\S/.test(e)}$(".form-group").length>0&&setTimeout(function(){$(".form-group").each(function(){$(this).find("input").val().length>0&&$(this).find(".form-input").addClass("filled")});var e=$("#birth_date");if(e.length>0){e.val()||e.val(""),e.attr("data-date",e.val())}},50),$(document).bind("contextmenu",function(e){return!1});var n,i,a,o,l,r,d;for(n=document.getElementsByClassName("custom-select"),i=0;i<n.length;i++){for(o=n[i].getElementsByTagName("select")[0],l=document.createElement("DIV"),l.setAttribute("class","select-selected default"),l.innerHTML=o.options[o.selectedIndex].innerHTML,n[i].appendChild(l),r=document.createElement("DIV"),r.setAttribute("class","select-items select-hide"),a=1;a<o.length;a++)d=document.createElement("DIV"),d.innerHTML=o.options[a].innerHTML,d.addEventListener("click",function(e){var t,s,n,i,a;for(i=this.parentNode.parentNode.getElementsByTagName("select")[0],a=this.parentNode.previousSibling,s=0;s<i.length;s++)if(i.options[s].innerHTML==this.innerHTML){for(i.selectedIndex=s,a.innerHTML=this.innerHTML,t=this.parentNode.getElementsByClassName("same-as-selected"),n=0;n<t.length;n++)t[n].removeAttribute("class");this.setAttribute("class","same-as-selected");break}$(i).trigger("change"),a.click()}),r.appendChild(d);n[i].appendChild(r),l.addEventListener("click",function(t){t.stopPropagation(),e(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")})}document.addEventListener("click",e);var c=$("#email"),u=$("#customer_form_label"),h=$("#customer_form_submit"),m=$(".user-form input[type=text]:not([name=address2])"),g=$("#birth_date"),v=$("select[name=gender]"),f=$("#phone"),p=$("#terms"),w=window.location.search,b=new URLSearchParams(w),C=b.get("first_name"),k=b.get("last_name"),y=b.get("birth_date"),_=b.get("gender");$(".step-4").length>0&&($("input[name=first_name]").val(C),$("input[name=last_name]").val(k),$("input[name=birth_date]").val(y),$("input[name=gender]").val(_));var E=function(){var e=[],n=!1;m.each(function(){""!==$(this).val()&&s($(this).val())?(e.push(!0),$(this).closest("div").removeClass("required")):(e.push(!1),$(this).closest("div").addClass("required"))}),n=!e.includes(!1),""===g.val()?g.closest("div").addClass("required"):g.closest("div").removeClass("required"),""===v.val()?v.closest("div").addClass("required"):(v.closest("div").removeClass("required"),v.closest(".custom-select").find(".select-selected").addClass("select-filled")),t(c.val())||c.hasClass("required")?c.closest("div").removeClass("invalid-email"):c.closest("div").addClass("invalid-email"),$(".step-3").length>0&&""!==g.val()&&""!==v.val()&&!0===n||$(".step-4").length>0&&c&&t(c.val())&&!0===n&&$(p).is(":checked")?(h.removeAttr("disabled"),u.removeClass("disabled")):(h.attr("disabled","disabled"),u.addClass("disabled"))};c.change(function(){E()}),c.keyup(function(){E()}),m.keyup(function(){E()}),g.change(function(){E()}),v.change(function(){E()}),p.click(E),h.click(E),$.fn.inputFilter=function(e){return this.on("input keydown keyup mousedown mouseup select contextmenu drop",function(){e(this.value)?(this.oldValue=this.value,this.oldSelectionStart=this.selectionStart,this.oldSelectionEnd=this.selectionEnd):this.hasOwnProperty("oldValue")?(this.value=this.oldValue,this.setSelectionRange(this.oldSelectionStart,this.oldSelectionEnd)):this.value=""})},f.inputFilter(function(e){return/^[\+]?\d*$/.test(e)});var L=$(".terms-btn"),M=$(".policy-btn"),T=$(".information-provided"),S=$("#modal-terms"),x=$("#modal-policy"),A=$("#modal-information"),I=$(".ui-close-modal");if(L.on("click",function(){S.addClass("show")}),M.on("click",function(){x.addClass("show")}),T.on("click",function(){A.addClass("show")}),I.on("click",function(){S.removeClass("show"),x.removeClass("show"),A.removeClass("show")}),$(".modal-wrap").click(function(e){e.target===$(".modal-wrap.show")[0]&&$(".modal-wrap").removeClass("show")}),$(".slider").length>0){$(".slider").slick({dots:!0,speed:300,slidesToShow:1,slidesToScroll:1,arrows:!0,appendDots:$(".dots-block"),prevArrow:'<button type="button" class="slick-prev"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 10" fill="none" style="&#10;    transform: rotate(90deg);&#10;">\n    <path d="M1.21436 1.64288L8.00007 8.4286L14.7858 1.64288" stroke="#979797" stroke-width="2" stroke-linecap="round"/>\n    </svg></button>',nextArrow:'<button type="button" class="slick-next"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 10" fill="none" style="&#10;    transform: rotate(-90deg);&#10;">\n    <path d="M1.21436 1.64288L8.00007 8.4286L14.7858 1.64288" stroke="#979797" stroke-width="2" stroke-linecap="round"/>\n    </svg></button>'})}if($("#birth_date").on("change",function(){document.getElementById("birth_date")&&"date"===document.getElementById("birth_date").type&&(""===$(this).val()?$("#birth_date").addClass("change"):$("#birth_date").removeClass("change"),this.setAttribute("data-date",moment(this.value,"YYYY-MM-DD").format(this.getAttribute("data-date-format")))),""!==$(this).val()&&$(this).addClass("filled")}),document.getElementById("birth_date")){var B=new Date,q=B.getDate(),H=B.getMonth()+1,N=B.getFullYear();q<10&&(q="0"+q),H<10&&(H="0"+H),B=N+"-"+H+"-"+q,document.getElementById("birth_date").setAttribute("max",B)}if(window.location.pathname.includes("/index.html")&&sessionStorage.setItem("setTimezoneReques_sent","false"),"true"!==sessionStorage.getItem("setTimezoneReques_sent")){var D=function(e){var t;return e.forEach(function(e){var s=e.split(":")[0],n=e.split(":")[1];"poll-session"===s&&(t=n)}),t},z=new XMLHttpRequest;z.open("GET",document.location,!1),z.send(null);var R=z.getAllResponseHeaders().toLowerCase(),V=R.trim().split("\n"),Y=void 0!==D(V)&&D(V).trim(),O=new Date,Z=function(){var e=O.getTimezoneOffset()/60;return-1===Math.sign(e)?Math.abs(e):1===Math.sign(e)?-Math.abs(e):0===Math.sign(e)&&-0===Math.sign(e)?Math.abs(e):void 0},F=Z();console.log("current TimeZone Offset In Hours = ".concat(F));var P=window.location.origin,G="".concat(P,"/bo/poll-sessions/").concat(Y,"/set-tz-offset/").concat(F,"/");$.ajax({url:G,type:"GET",success:function(e){console.log(e),sessionStorage.setItem("setTimezoneReques_sent","true")},error:function(e){console.log(e)}})}});